<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Galaxy Map</title>
  <style>
    html, body {
      margin: 0;
      height: 100%;
      overflow: hidden;
      background: white;
    }
    canvas {
      display: block;
    }
  </style>
</head>
<body>
<canvas id="galaxy"></canvas>

<script>
  const canvas = document.getElementById('galaxy');
  const ctx = canvas.getContext('2d');
  let width = canvas.width = window.innerWidth;
  let height = canvas.height = window.innerHeight;

  let zoom = 1;
  let offsetX = 0, offsetY = 0;
  let drag = false;
  let startX, startY;

  const stars = [];
  const numStars = 500;
  const seed = Math.floor(Date.now() / 1000);

  function seededRandom(seed) {
    // xorshift32
    return function() {
      seed ^= seed << 13;
      seed ^= seed >> 17;
      seed ^= seed << 5;
      return ((seed < 0 ? ~seed + 1 : seed) % 1000) / 1000;
    }
  }

  const rand = seededRandom(seed);

  for (let i = 0; i < numStars; i++) {
    stars.push({
      x: (rand() - 0.5) * 4000,
      y: (rand() - 0.5) * 4000,
      r: rand() * 1.5 + 0.5
    });
  }

  function draw() {
  ctx.setTransform(1, 0, 0, 1, 0, 0);
  ctx.clearRect(0, 0, width, height);

  // Set background color to black
  ctx.fillStyle = '#000';
  ctx.fillRect(0, 0, width, height);

  ctx.translate(width / 2 + offsetX, height / 2 + offsetY);
  ctx.scale(zoom, zoom);

  const time = Date.now() / 10000;
  const cos = Math.cos(time);
  const sin = Math.sin(time);

  for (const star of stars) {
    const x = star.x * cos - star.y * sin;
    const y = star.x * sin + star.y * cos;

    // Set star color to white
    ctx.beginPath();
    ctx.arc(x, y, star.r, 0, Math.PI * 2);
    ctx.fillStyle = '#fff';  // White stars
    ctx.fill();
  }

  requestAnimationFrame(draw);
}


  draw();

  // Zoom handling
  canvas.addEventListener('wheel', e => {
    e.preventDefault();
    const zoomFactor = 1.1;
    zoom *= e.deltaY < 0 ? zoomFactor : 1 / zoomFactor;
  });

  // Drag handling
  canvas.addEventListener('mousedown', e => {
    drag = true;
    startX = e.clientX;
    startY = e.clientY;
  });

  canvas.addEventListener('mousemove', e => {
    if (!drag) return;
    offsetX += (e.clientX - startX);
    offsetY += (e.clientY - startY);
    startX = e.clientX;
    startY = e.clientY;
  });

  canvas.addEventListener('mouseup', () => drag = false);
  canvas.addEventListener('mouseleave', () => drag = false);

  // Resize
  window.addEventListener('resize', () => {
    width = canvas.width = window.innerWidth;
    height = canvas.height = window.innerHeight;
  });
</script>
</body>
</html>
